"use strict";(self.webpackChunkrust_wasmpack_loader=self.webpackChunkrust_wasmpack_loader||[]).push([[7611],{9311:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"docs/api/index","title":"API Reference","description":"Complete reference for rust-wasmpack-loader configuration options, methods, and settings across different build tools.","source":"@site/docs/docs/api/index.md","sourceDirName":"docs/api","slug":"/docs/api/","permalink":"/rustwasm-loader/docs/api/","draft":false,"unlisted":false,"editUrl":"https://github.com/yeskiy/rustwasm-loader/tree/main/docs/docs/api/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bun Node.js Example","permalink":"/rustwasm-loader/docs/examples/node-bun"},"next":{"title":"Changelog","permalink":"/rustwasm-loader/changelog"}}');var i=r(4848),l=r(8453);const d={},t="API Reference",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Configuration Structure",id:"configuration-structure",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Target Environments",id:"target-environments",level:2},{value:"Web Target (Browser)",id:"web-target-browser",level:3},{value:"Node Target (Server)",id:"node-target-server",level:3},{value:"Bun Target",id:"bun-target",level:3},{value:"Configuration Options by Build Tool",id:"configuration-options-by-build-tool",level:2},{value:"Webpack Options",id:"webpack-options",level:3},{value:"Web Target Options",id:"web-target-options",level:4},{value:"Node Target Options",id:"node-target-options",level:4},{value:"Global Options",id:"global-options",level:4},{value:"Bun Options",id:"bun-options",level:3},{value:"Detailed Option Reference",id:"detailed-option-reference",level:2},{value:"<code>web.asyncLoading</code>",id:"webasyncloading",level:3},{value:"<code>web.publicPath</code>",id:"webpublicpath",level:3},{value:"<code>web.wasmPathModifier</code>",id:"webwasmpathmodifier",level:3},{value:"<code>node.bundle</code>",id:"nodebundle",level:3},{value:"<code>logLevel</code>",id:"loglevel",level:3},{value:"Custom Type Declarations",id:"custom-type-declarations",level:3}];function a(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,i.jsx)(n.p,{children:"Complete reference for rust-wasmpack-loader configuration options, methods, and settings across different build tools."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"rust-wasmpack-loader provides different configuration options depending on your target environment and build tool. This\nsection documents all available options, their types, default values, and usage examples."}),"\n",(0,i.jsx)(n.h2,{id:"configuration-structure",children:"Configuration Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface LoaderOptions {\n    // Target-specific options\n    web?: WebOptions;\n    node?: NodeOptions;\n\n    // Global options\n    logLevel?: LogLevel;\n\n    // Bun-specific options (when using Bun)\n    // Configured via plugin API\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.asyncLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Enable async WASM loading"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.publicPath"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Use webpack public path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.wasmPathModifier"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'["/"]'})}),(0,i.jsx)(n.td,{children:"Modify WASM request path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"node.bundle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Bundle WASM in JS file"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"logLevel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"info"'})}),(0,i.jsx)(n.td,{children:"Logging verbosity"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"target-environments",children:"Target Environments"}),"\n",(0,i.jsx)(n.h3,{id:"web-target-browser",children:"Web Target (Browser)"}),"\n",(0,i.jsx)(n.p,{children:"Used for browser applications with Webpack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="webpack.config.js"',children:'module.exports = {\n    target: \'web\',\n    module: {\n        rules: [\n            {\n                test: /\\.rs$/,\n                use: {\n                    loader: "rust-wasmpack-loader",\n                    options: {\n                        web: {\n                            asyncLoading: false,\n                            publicPath: true,\n                            wasmPathModifier: ["/"]\n                        },\n                        logLevel: "info"\n                    }\n                }\n            }\n        ]\n    }\n};\n'})}),"\n",(0,i.jsx)(n.h3,{id:"node-target-server",children:"Node Target (Server)"}),"\n",(0,i.jsx)(n.p,{children:"Used for Node.js applications with Webpack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="webpack.config.js"',children:'module.exports = {\n    target: \'async-node\',\n    module: {\n        rules: [\n            {\n                test: /\\.rs$/,\n                use: {\n                    loader: "rust-wasmpack-loader",\n                    options: {\n                        node: {\n                            bundle: true\n                        },\n                        logLevel: "info"\n                    }\n                }\n            }\n        ]\n    }\n};\n'})}),"\n",(0,i.jsx)(n.h3,{id:"bun-target",children:"Bun Target"}),"\n",(0,i.jsx)(n.p,{children:"Used with Bun runtime:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",metastring:'title="bunfig.toml"',children:'preload = ["./node_modules/rust-wasmpack-loader/bun/preload.js"]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="custom-bun-init.js"',children:'import { plugin } from "bun";\nimport loader from "rust-wasmpack-loader";\n\nplugin(loader.bun({\n    logLevel: "info"\n}));\n'})}),"\n",(0,i.jsx)(n.h2,{id:"configuration-options-by-build-tool",children:"Configuration Options by Build Tool"}),"\n",(0,i.jsx)(n.h3,{id:"webpack-options",children:"Webpack Options"}),"\n",(0,i.jsx)(n.h4,{id:"web-target-options",children:"Web Target Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.asyncLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Load WASM asynchronously instead of bundling"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.publicPath"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Use webpack's public path for WASM files"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"web.wasmPathModifier"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'["/"]'})}),(0,i.jsx)(n.td,{children:"Modify WASM request path if wrong publicPath used"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"node-target-options",children:"Node Target Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"node.bundle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Bundle WASM file in JS file (no separate .wasm file)"})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"global-options",children:"Global Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"logLevel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"verbose" | "info" | "warn" | "error" | "quiet"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"info"'})}),(0,i.jsx)(n.td,{children:"Control logging verbosity"})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"bun-options",children:"Bun Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"logLevel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"verbose" | "info" | "warn" | "error" | "quiet"'})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'"info"'})}),(0,i.jsx)(n.td,{children:"Control logging verbosity"})]})})]}),"\n",(0,i.jsx)(n.h2,{id:"detailed-option-reference",children:"Detailed Option Reference"}),"\n",(0,i.jsx)(n.h3,{id:"webasyncloading",children:(0,i.jsx)(n.code,{children:"web.asyncLoading"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Target:"})," Web only"]}),"\n",(0,i.jsx)(n.p,{children:"Controls how WebAssembly modules are loaded in the browser."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Sync loading (default) - WASM is bundled with JS\n{\n    web: {\n        asyncLoading: false\n    }\n}\n\n// Async loading - WASM is loaded separately\n{\n    web: {\n        asyncLoading: true\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Faster initial execution, larger bundle size"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": Smaller initial bundle, slightly slower first load"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"webpublicpath",children:(0,i.jsx)(n.code,{children:"web.publicPath"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Target:"})," Web only"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to use webpack's public path for WASM file URLs."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Use webpack public path (default)\n{\n    web: {\n        publicPath: true\n    }\n}\n\n// Don't use webpack public path\n{\n    web: {\n        publicPath: false\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"webwasmpathmodifier",children:(0,i.jsx)(n.code,{children:"web.wasmPathModifier"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string[]"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:'["/"]'}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Target:"})," Web only"]}),"\n",(0,i.jsx)(n.p,{children:"Modify the WASM request path when the public path is incorrect."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Default - no modification\n{\n    web: {\n        wasmPathModifier: ["/"]\n    }\n}\n\n// Custom path modification\n{\n    web: {\n        wasmPathModifier: ["/assets/", "/static/"]\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"nodebundle",children:(0,i.jsx)(n.code,{children:"node.bundle"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Target:"})," Node only"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to bundle the WASM file inside the JavaScript bundle."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Separate WASM file (default)\n{\n    node: {\n        bundle: false\n    }\n}\n\n// Bundle WASM in JS file\n{\n    node: {\n        bundle: true\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"When to use:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Smaller JS bundle, separate WASM file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": Single file deployment, larger JS bundle"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"loglevel",children:(0,i.jsx)(n.code,{children:"logLevel"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:'"verbose" | "info" | "warn" | "error" | "quiet"'}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:'"info"'}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Target:"})," All"]}),"\n",(0,i.jsx)(n.p,{children:"Controls the verbosity of loader output."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'{\n    logLevel: "verbose"  // Maximum logging\n}\n{\n    logLevel: "info"     // Standard logging (default)\n}\n{\n    logLevel: "warn"     // Warnings and errors only\n}\n{\n    logLevel: "error"    // Errors only\n}\n{\n    logLevel: "quiet"    // No logging\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"custom-type-declarations",children:"Custom Type Declarations"}),"\n",(0,i.jsx)(n.p,{children:"You can also create custom type declarations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/types.d.ts"',children:'declare module "*.rs" {\n    export function greet(name: string): string;\n\n    export function fibonacci(n: number): number;\n\n    export function process_data(data: Uint8Array): Uint8Array;\n\n    const wasmModule: Promise<{\n        greet: typeof greet;\n        fibonacci: typeof fibonacci;\n        process_data: typeof process_data;\n    }>;\n\n    export default wasmModule;\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);